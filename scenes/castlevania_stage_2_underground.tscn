[gd_scene load_steps=8 format=4 uid="uid://dtsk23hhg0se7"]

[ext_resource type="Script" path="res://scripts/stage.gd" id="1_04sph"]
[ext_resource type="AudioStream" uid="uid://ci2qwkqmt4pqx" path="res://media/music/vampirekiller.wav" id="2_qifm6"]
[ext_resource type="TileSet" uid="uid://bpyv70mj7h5m5" path="res://tilesets/cv_level_1.tres" id="3_q545m"]
[ext_resource type="PackedScene" uid="uid://bkbmw24gpp54p" path="res://scenes/transitional_stairs.tscn" id="4_tfm4c"]
[ext_resource type="Script" path="res://scripts/player_spawner.gd" id="5_ebkfr"]
[ext_resource type="PackedScene" uid="uid://j8u8ven5ixi" path="res://scenes/water_particle_spawner.tscn" id="6_fomwk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0rxd1"]
size = Vector2(512, 8)

[node name="castlevania_stage_3_underground" type="Node2D" node_paths=PackedStringArray("objects", "player_spawner")]
script = ExtResource("1_04sph")
objects = NodePath("Objects")
player_spawner = NodePath("PlayerSpawner")
right_limit = 512
music = ExtResource("2_qifm6")
stage_number = 2
starting_time = 200

[node name="TileMap" type="Node2D" parent="."]

[node name="Layer0" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAEAAAAEAAMAAAADAAEAAAAEAAMAAAAGAAEAAAAEAAMAAAAIAAEAAAAEAAMAAAAAAAQAAAAEAAMAAAADAAQAAAAEAAMAAAADAAMAAAAEAAMAAAAGAAQAAAAEAAMAAAAIAAQAAAAEAAMAAAAKAAQAAAAEAAMAAAADAAUAAAAFAAEAAAAGAAUAAAABAAEAAAAIAAUAAAABAAEAAAAKAAUAAAABAAEAAAAKAAMAAAABAAEAAAAKAAIAAAABAAEAAAAIAAIAAAABAAEAAAAIAAMAAAABAAEAAAAKAAEAAAABAAAAAAAGAAIAAAAFAAEAAAAGAAMAAAAFAAEAAAADAAIAAAAFAAEAAAAAAAMAAAAFAAEAAAAAAAIAAAABAAEAAAAAAAUAAAAFAAEAAAAOAAQAAAAKAAYAAAAOAAYAAAAEAAMAAAAOAAEAAAABAAAAAAAOAAIAAAABAAEAAAAOAAMAAAABAAEAAAAOAAUAAAABAAEAAAAPAAUAAAADAAUAAAAPAAYAAAAFAAAAAAANAAYAAAAFAAAAAAAMAAYAAAAFAAAAAAALAAYAAAAFAAAAAAAKAAYAAAAFAAAAAAAJAAYAAAAFAAAAAAAIAAYAAAAFAAAAAAAHAAYAAAAFAAAAAAAGAAYAAAAFAAAAAAAFAAYAAAAFAAAAAAAEAAYAAAAFAAAAAAADAAYAAAAFAAAAAAACAAYAAAAFAAAAAAABAAYAAAAFAAAAAAAAAAYAAAAFAAAAAAAPAAQAAAAEAAUAAAAPAAMAAAAEAAUAAAAPAAIAAAAEAAUAAAAPAAEAAAAEAAUAAAANAAQAAAADAAUAAAAMAAQAAAADAAUAAAALAAQAAAADAAUAAAABAAQAAAADAAUAAAACAAQAAAADAAUAAAAFAAQAAAADAAUAAAAEAAQAAAAEAAEAAAAEAAUAAAAEAAQAAAAHAAUAAAADAAcAAAAJAAUAAAADAAcAAAAMAAUAAAADAAcAAAALAAUAAAAEAAcAAAAFAAUAAAAEAAcAAAABAAMAAAAEAAIAAAABAAIAAAAEAAIAAAACAAMAAAAEAAIAAAACAAIAAAAEAAAAAAABAAEAAAAEAAAAAAACAAEAAAAEAAYAAAALAAMAAAAEAAIAAAALAAIAAAAEAAIAAAAMAAMAAAAEAAIAAAANAAMAAAAEAAAAAAAMAAIAAAAEAAAAAAALAAEAAAAEAAAAAAAMAAEAAAAEAAYAAAANAAIAAAAEAAYAAAACAAUAAAADAAYAAAABAAUAAAADAAYAAAAHAAQAAAADAAYAAAAJAAQAAAADAAYAAAANAAUAAAADAAYAAAAJAAEAAAADAAYAAAAJAAIAAAADAAYAAAAJAAMAAAADAAYAAAAHAAEAAAADAAYAAAAHAAIAAAADAAYAAAAHAAMAAAADAAYAAAAFAAEAAAADAAYAAAAFAAIAAAADAAYAAAAFAAMAAAADAAYAAAAEAAMAAAADAAYAAAAEAAIAAAADAAYAAAAEAAEAAAADAAYAAAA=")
tile_set = ExtResource("3_q545m")

[node name="Objects" type="Node2D" parent="."]

[node name="Transitional Stairs" parent="Objects" instance=ExtResource("4_tfm4c")]
position = Vector2(96, 96)
next_stage_path = "res://scenes/castlevania_stage_2.tscn"
load_position = Vector2(-40, -200)
target = 1
height = 4
direction = -1

[node name="Transitional Stairs2" parent="Objects" instance=ExtResource("4_tfm4c")]
position = Vector2(448, 128)
next_stage_path = "res://scenes/castlevania_stage_2.tscn"
load_position = Vector2(-40, -200)
id = 1
target = 1
height = 8
direction = -1

[node name="WaterParticleSpawner" parent="Objects" instance=ExtResource("6_fomwk")]
position = Vector2(0, 192)
collision_layer = 0
collision_mask = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Objects/WaterParticleSpawner"]
position = Vector2(256, 8)
shape = SubResource("RectangleShape2D_0rxd1")

[node name="PlayerSpawner" type="Node2D" parent="."]
position = Vector2(112, 72)
script = ExtResource("5_ebkfr")
